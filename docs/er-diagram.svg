<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .entity { fill: #e1f5fe; stroke: #0288d1; stroke-width: 2; }
      .entity-title { fill: #0288d1; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .attribute { fill: #333; font-family: Arial, sans-serif; font-size: 11px; }
      .primary-key { fill: #d32f2f; font-weight: bold; }
      .foreign-key { fill: #388e3c; font-style: italic; }
      .relationship-line { stroke: #666; stroke-width: 2; fill: none; }
      .relationship-diamond { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .relationship-text { fill: #f57c00; font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; font-weight: bold; }
      .cardinality { fill: #666; font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="700" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#0288d1">
    Academia Nexus - Entity Relationship Diagram
  </text>
  
  <!-- Users Entity -->
  <rect x="50" y="80" width="200" height="320" class="entity" rx="8"/>
  <text x="150" y="100" class="entity-title">USERS</text>
  <line x1="60" y1="110" x2="240" y2="110" stroke="#0288d1" stroke-width="1"/>
  
  <!-- Users Attributes -->
  <text x="70" y="130" class="attribute primary-key">ðŸ”‘ id (PK)</text>
  <text x="70" y="150" class="attribute">username</text>
  <text x="70" y="170" class="attribute">email</text>
  <text x="70" y="190" class="attribute">password_hash</text>
  <text x="70" y="210" class="attribute">full_name</text>
  <text x="70" y="230" class="attribute">first_name</text>
  <text x="70" y="250" class="attribute">last_name</text>
  <text x="70" y="270" class="attribute">phone</text>
  <text x="70" y="290" class="attribute">university</text>
  <text x="70" y="310" class="attribute">major</text>
  <text x="70" y="330" class="attribute">graduation_year</text>
  <text x="70" y="350" class="attribute">created_at</text>
  <text x="70" y="370" class="attribute">updated_at</text>
  <text x="70" y="390" class="attribute">last_login</text>
  
  <!-- User Sessions Entity -->
  <rect x="350" y="80" width="200" height="180" class="entity" rx="8"/>
  <text x="450" y="100" class="entity-title">USER_SESSIONS</text>
  <line x1="360" y1="110" x2="540" y2="110" stroke="#0288d1" stroke-width="1"/>
  
  <text x="370" y="130" class="attribute primary-key">ðŸ”‘ id (PK)</text>
  <text x="370" y="150" class="attribute foreign-key">ðŸ”— user_id (FK)</text>
  <text x="370" y="170" class="attribute">session_token</text>
  <text x="370" y="190" class="attribute">expires_at</text>
  <text x="370" y="210" class="attribute">created_at</text>
  
  <!-- Student Activities Entity -->
  <rect x="50" y="450" width="200" height="280" class="entity" rx="8"/>
  <text x="150" y="470" class="entity-title">STUDENT_ACTIVITIES</text>
  <line x1="60" y1="480" x2="240" y2="480" stroke="#0288d1" stroke-width="1"/>
  
  <text x="70" y="500" class="attribute primary-key">ðŸ”‘ id (PK)</text>
  <text x="70" y="520" class="attribute foreign-key">ðŸ”— user_id (FK)</text>
  <text x="70" y="540" class="attribute">activity_type</text>
  <text x="70" y="560" class="attribute">activity_details (JSON)</text>
  <text x="70" y="580" class="attribute">session_duration</text>
  <text x="70" y="600" class="attribute">score</text>
  <text x="70" y="620" class="attribute">company</text>
  <text x="70" y="640" class="attribute">job_role</text>
  <text x="70" y="660" class="attribute">skills_used (JSON)</text>
  <text x="70" y="680" class="attribute">difficulty_level</text>
  <text x="70" y="700" class="attribute">completion_status</text>
  <text x="70" y="720" class="attribute">created_at</text>
  
  <!-- Test Results Entity -->
  <rect x="350" y="300" width="200" height="280" class="entity" rx="8"/>
  <text x="450" y="320" class="entity-title">TEST_RESULTS</text>
  <line x1="360" y1="330" x2="540" y2="330" stroke="#0288d1" stroke-width="1"/>
  
  <text x="370" y="350" class="attribute primary-key">ðŸ”‘ id (PK)</text>
  <text x="370" y="370" class="attribute foreign-key">ðŸ”— user_id (FK)</text>
  <text x="370" y="390" class="attribute">test_title</text>
  <text x="370" y="410" class="attribute">company</text>
  <text x="370" y="430" class="attribute">role</text>
  <text x="370" y="450" class="attribute">total_questions</text>
  <text x="370" y="470" class="attribute">correct_answers</text>
  <text x="370" y="490" class="attribute">score_percentage</text>
  <text x="370" y="510" class="attribute">answers (JSON)</text>
  <text x="370" y="530" class="attribute">feedback (JSON)</text>
  <text x="370" y="550" class="attribute">time_taken</text>
  <text x="370" y="570" class="attribute">created_at</text>
  
  <!-- Communication Sessions Entity -->
  <rect x="650" y="80" width="200" height="240" class="entity" rx="8"/>
  <text x="750" y="100" class="entity-title">COMMUNICATION_SESSIONS</text>
  <line x1="660" y1="110" x2="840" y2="110" stroke="#0288d1" stroke-width="1"/>
  
  <text x="670" y="130" class="attribute primary-key">ðŸ”‘ id (PK)</text>
  <text x="670" y="150" class="attribute foreign-key">ðŸ”— user_id (FK)</text>
  <text x="670" y="170" class="attribute">session_type</text>
  <text x="670" y="190" class="attribute">duration</text>
  <text x="670" y="210" class="attribute">total_exchanges</text>
  <text x="670" y="230" class="attribute">topics_covered (JSON)</text>
  <text x="670" y="250" class="attribute">feedback_score</text>
  <text x="670" y="270" class="attribute">transcript (TEXT)</text>
  <text x="670" y="290" class="attribute">feedback (JSON)</text>
  <text x="670" y="310" class="attribute">created_at</text>
  
  <!-- User Preferences Entity -->
  <rect x="950" y="80" width="200" height="260" class="entity" rx="8"/>
  <text x="1050" y="100" class="entity-title">USER_PREFERENCES</text>
  <line x1="960" y1="110" x2="1140" y2="110" stroke="#0288d1" stroke-width="1"/>
  
  <text x="970" y="130" class="attribute primary-key">ðŸ”‘ id (PK)</text>
  <text x="970" y="150" class="attribute foreign-key">ðŸ”— user_id (FK)</text>
  <text x="970" y="170" class="attribute">preferred_companies (JSON)</text>
  <text x="970" y="190" class="attribute">target_roles (JSON)</text>
  <text x="970" y="210" class="attribute">career_interests (JSON)</text>
  <text x="970" y="230" class="attribute">skill_levels (JSON)</text>
  <text x="970" y="250" class="attribute">learning_goals (JSON)</text>
  <text x="970" y="270" class="attribute">notification_settings (JSON)</text>
  <text x="970" y="290" class="attribute">privacy_settings (JSON)</text>
  <text x="970" y="310" class="attribute">dashboard_layout (JSON)</text>
  <text x="970" y="330" class="attribute">created_at</text>
  
  <!-- User Achievements Entity -->
  <rect x="650" y="380" width="200" height="220" class="entity" rx="8"/>
  <text x="750" y="400" class="entity-title">USER_ACHIEVEMENTS</text>
  <line x1="660" y1="410" x2="840" y2="410" stroke="#0288d1" stroke-width="1"/>
  
  <text x="670" y="430" class="attribute primary-key">ðŸ”‘ id (PK)</text>
  <text x="670" y="450" class="attribute foreign-key">ðŸ”— user_id (FK)</text>
  <text x="670" y="470" class="attribute">achievement_type</text>
  <text x="670" y="490" class="attribute">achievement_name</text>
  <text x="670" y="510" class="attribute">title</text>
  <text x="670" y="530" class="attribute">description (TEXT)</text>
  <text x="670" y="550" class="attribute">points_earned</text>
  <text x="670" y="570" class="attribute">badge_icon</text>
  <text x="670" y="590" class="attribute">earned_at</text>
  
  <!-- Relationships -->
  
  <!-- Users to User Sessions (1:N) -->
  <path d="M 250 180 L 350 180" class="relationship-line" marker-end="url(#arrowhead)"/>
  <text x="300" y="175" class="cardinality">1</text>
  <text x="340" y="175" class="cardinality">N</text>
  
  <!-- Users to Student Activities (1:N) -->
  <path d="M 150 400 L 150 450" class="relationship-line" marker-end="url(#arrowhead)"/>
  <text x="130" y="425" class="cardinality">1</text>
  <text x="130" y="445" class="cardinality">N</text>
  
  <!-- Users to Test Results (1:N) -->
  <path d="M 250 300 L 350 400" class="relationship-line" marker-end="url(#arrowhead)"/>
  <text x="280" y="335" class="cardinality">1</text>
  <text x="330" y="385" class="cardinality">N</text>
  
  <!-- Users to Communication Sessions (1:N) -->
  <path d="M 250 150 L 650 150" class="relationship-line" marker-end="url(#arrowhead)"/>
  <text x="430" y="145" class="cardinality">1</text>
  <text x="630" y="145" class="cardinality">N</text>
  
  <!-- Users to User Preferences (1:1) -->
  <path d="M 250 200 L 950 200" class="relationship-line" marker-end="url(#arrowhead)"/>
  <text x="580" y="195" class="cardinality">1</text>
  <text x="930" y="195" class="cardinality">1</text>
  
  <!-- Users to User Achievements (1:N) -->
  <path d="M 250 250 L 650 450" class="relationship-line" marker-end="url(#arrowhead)"/>
  <text x="430" y="330" class="cardinality">1</text>
  <text x="630" y="435" class="cardinality">N</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="950" y="650" width="400" height="280" fill="#f5f5f5" stroke="#ccc" stroke-width="1" rx="8"/>
  <text x="1150" y="675" class="entity-title">LEGEND</text>
  
  <text x="970" y="700" class="primary-key">ðŸ”‘ Primary Key</text>
  <text x="970" y="720" class="foreign-key">ðŸ”— Foreign Key</text>
  <text x="970" y="740" class="attribute">Regular Attribute</text>
  
  <text x="970" y="770" font-family="Arial, sans-serif" font-size="12px" font-weight="bold" fill="#333">Relationships:</text>
  <text x="970" y="790" class="attribute">â€¢ 1:1 (One-to-One)</text>
  <text x="970" y="810" class="attribute">â€¢ 1:N (One-to-Many)</text>
  
  <text x="970" y="840" font-family="Arial, sans-serif" font-size="12px" font-weight="bold" fill="#333">Data Types:</text>
  <text x="970" y="860" class="attribute">â€¢ JSON: Complex data structures</text>
  <text x="970" y="880" class="attribute">â€¢ TEXT: Long text content</text>
  <text x="970" y="900" class="attribute">â€¢ TIMESTAMP: Date and time</text>
  
  <!-- Database Type Info -->
  <text x="50" y="950" font-family="Arial, sans-serif" font-size="12px" fill="#666">
    Database Systems: SQLite (Development) | MySQL (Production)
  </text>
  <text x="50" y="970" font-family="Arial, sans-serif" font-size="12px" fill="#666">
    Character Set: UTF8MB4 | Collation: utf8mb4_unicode_ci
  </text>
</svg>
